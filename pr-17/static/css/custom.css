/**
  =============================================================================
  CUSTOM STYLES FOR ASWG
  =============================================================================
  
  This file contains custom CSS styles that extend and enhance the Tailwind CSS
  framework for ASWG.
  
  USAGE:
  - This file is loaded after tailwind.css in base.html template
  - All styles work with the .dark class for dark mode switching
  - Components are used across various templates (browse, app-detail, etc.)
  
  DEPENDENCIES:
  - Requires Tailwind CSS to be loaded first
  - Uses CSS custom properties for consistent theming
  - Relies on JavaScript for theme switching functionality
  
  =============================================================================
*/

/* GLOBAL TRANSITIONS & ANIMATIONS
   
   Provides smooth transitions for all interactive elements to enhance user
   experience. Applied globally to ensure consistent behavior across the site.
   
   Used by: All interactive elements (buttons, links, form controls, etc.)
   Templates: All pages (base.html, browse.html, app_detail.html, etc.)
*/
* {
    transition: color 0.2s ease, background-color 0.2s ease, border-color 0.2s ease;
}

/* CUSTOM SCROLLBAR STYLING
   
   Provides consistent, modern scrollbar styling across all browsers that support
   webkit scrollbar pseudo-elements. Includes both light and dark theme variants.
   
   Used by: All scrollable elements (main content, search results, mobile menus)
   Templates: All pages with scrollable content
   Browser Support: Webkit-based browsers (Chrome, Safari, Edge)
*/

/* Base scrollbar styling for light theme */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

/* Scrollbar track (background) - Light theme */
::-webkit-scrollbar-track {
    background: #f1f1f1;
}

/* Scrollbar thumb (draggable part) - Light theme */
::-webkit-scrollbar-thumb {
    background: #c1c1c1;
    border-radius: 4px;
}

/* Scrollbar thumb hover state - Light theme */
::-webkit-scrollbar-thumb:hover {
    background: #a8a8a8;
}

/* DARK MODE SCROLLBAR STYLING
   
   Dark theme variants for scrollbar elements. Uses darker colors that work
   well with the dark background and maintain good contrast.
*/

/* Scrollbar track - Dark theme */
.dark ::-webkit-scrollbar-track {
    background: #374151;
}

/* Scrollbar thumb - Dark theme */
.dark ::-webkit-scrollbar-thumb {
    background: #6b7280;
}

/* Scrollbar thumb hover - Dark theme */
.dark ::-webkit-scrollbar-thumb:hover {
    background: #9ca3af;
}

/* ENHANCED FILTER CHECKBOXES
   
   Custom-styled checkboxes for filter controls in browse and search interfaces.
   Replaces default browser checkboxes with modern, accessible alternatives.
   
   Used by: Filter controls in browse.html, search interfaces
   Templates: browse.html, alternatives.html
   Accessibility: Includes focus states and proper contrast ratios
*/

/* Base checkbox styling - removes default appearance */
.filter-checkbox {
    appearance: none;
    width: 18px;
    height: 18px;
    border: 2px solid #d1d5db;
    border-radius: 4px;
    background: white;
    cursor: pointer;
    position: relative;
    margin-right: 8px;
    flex-shrink: 0;
    transition: all 0.2s ease;
}

/* Hover state - blue border and light background */
.filter-checkbox:hover {
    border-color: #3b82f6;
    background-color: #f3f4f6;
}

/* Checked state - blue background and border */
.filter-checkbox:checked {
    background-color: #3b82f6;
    border-color: #3b82f6;
}

/* Custom checkmark using CSS pseudo-element */
.filter-checkbox:checked::after {
    content: '';
    position: absolute;
    left: 5px;
    top: 2px;
    width: 6px;
    height: 10px;
    border: solid white;
    border-width: 0 2px 2px 0;
    transform: rotate(45deg);
}

/* Focus state for keyboard navigation accessibility */
.filter-checkbox:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

/* DARK MODE FILTER CHECKBOXES
   
   Dark theme variants for filter checkboxes. Maintains the same functionality
   while using colors appropriate for dark backgrounds.
*/

/* Dark mode base styling */
.dark .filter-checkbox {
    background: #374151;
    border-color: #6b7280;
}

/* Dark mode hover state */
.dark .filter-checkbox:hover {
    border-color: #3b82f6;
    background-color: #4b5563;
}

/* Dark mode checked state */
.dark .filter-checkbox:checked {
    background-color: #3b82f6;
    border-color: #3b82f6;
}

/* FILTER LABELS
   
   Styling for labels that contain filter checkboxes. Provides clickable areas
   around checkboxes and visual feedback for different states.
   
   Used by: Filter controls in browse.html, search interfaces
   Templates: browse.html, alternatives.html
   Interaction: Clicking label toggles associated checkbox
*/

/* Base filter label styling */
.filter-label {
    display: flex;
    align-items: center;
    padding: 8px 12px;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s ease;
    font-size: 14px;
    line-height: 1.4;
    color: #374151;
    user-select: none;
}

/* Hover state - light background and darker text */
.filter-label:hover {
    background-color: #f3f4f6;
    color: #1f2937;
}

/* Checked state - blue background and text (using :has() selector) */
.filter-label:has(.filter-checkbox:checked) {
    background-color: #eff6ff;
    color: #1d4ed8;
}

/* DARK MODE FILTER LABELS
   
   Dark theme variants for filter labels with appropriate color adjustments.
*/

/* Dark mode base styling */
.dark .filter-label {
    color: #d1d5db;
}

/* Dark mode hover state */
.dark .filter-label:hover {
    background-color: #4b5563;
    color: #f3f4f6;
}

/* Dark mode checked state */
.dark .filter-label:has(.filter-checkbox:checked) {
    background-color: #1e3a8a;
    color: #93c5fd;
}

/* SORT BUTTONS
   
   Styling for sort control buttons used in browse and search interfaces.
   Provides clear visual feedback for active/inactive states and hover effects.
   
   Used by: Sort controls in browse.html, search result sorting
   Templates: browse.html, alternatives.html
   States: Default, hover, active (selected sort option)
*/

/* Base sort button styling */
.sort-button {
    padding: 8px 16px;
    font-size: 14px;
    font-weight: 500;
    border-radius: 6px;
    border: 1px solid transparent;
    cursor: pointer;
    transition: all 0.2s ease;
    background: white;
    color: #6b7280;
}

/* Hover state - light background and darker text */
.sort-button:hover {
    background-color: #f3f4f6;
    color: #374151;
}

/* Active state - blue background and white text */
.sort-button.active {
    background-color: #3b82f6;
    color: white;
    border-color: #3b82f6;
    font-weight: 600;
}

/* DARK MODE SORT BUTTONS
   
   Dark theme variants for sort buttons with appropriate color adjustments.
*/

/* Dark mode base styling */
.dark .sort-button {
    background: #374151;
    color: #9ca3af;
    border-color: #4b5563;
}

/* Dark mode hover state */
.dark .sort-button:hover {
    background-color: #4b5563;
    color: #d1d5db;
}

/* Dark mode active state */
.dark .sort-button.active {
    background-color: #3b82f6;
    color: white;
    border-color: #3b82f6;
}

/* ENHANCED TOGGLE SWITCH FOR NON-FREE LICENSE
   
   Custom toggle switch component for enabling/disabling non-free license
   applications in the browse interface. Provides a modern, accessible alternative
   to standard checkboxes for binary on/off states.
   
   Used by: Non-free license filter in browse.html
   Templates: browse.html
   Interaction: Toggles between showing/hiding non-free applications
*/

/* Toggle container - provides positioning context */
.custom-toggle {
    position: relative;
    display: inline-block;
    width: 44px;
    height: 24px;
}

/* Hide the actual input checkbox */
.custom-toggle input {
    opacity: 0;
    width: 0;
    height: 0;
}

/* Toggle slider track */
.toggle-slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: #cbd5e0;
    transition: all 0.3s ease;
    border-radius: 24px;
}

/* Toggle knob (sliding circle) */
.toggle-slider:before {
    position: absolute;
    content: "";
    height: 18px;
    width: 18px;
    left: 3px;
    bottom: 3px;
    background-color: white;
    transition: all 0.3s ease;
    border-radius: 50%;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

/* On state - blue background */
input:checked + .toggle-slider {
    background-color: #3b82f6;
}

/* On state - move knob to right side */
input:checked + .toggle-slider:before {
    transform: translateX(20px);
}

/* DARK MODE TOGGLE SWITCH
   
   Dark theme variants for the toggle switch with appropriate color adjustments.
*/

/* Dark mode off state */
.dark .toggle-slider {
    background-color: #4b5563;
}

/* Dark mode on state */
.dark input:checked + .toggle-slider {
    background-color: #3b82f6;
}

/* LANGUAGE COLOR DOTS
   
   Small circular indicators used to show programming language colors in
   application cards and detail pages. Provides visual identification of
   the primary programming language for each application.
   
   Used by: Application cards in browse.html, app detail pages
   Templates: browse.html, app_detail.html
   Colors: Dynamically set via inline styles from language data
*/

/* Base language dot styling */
.language-dot {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    display: inline-block;
    margin-right: 8px;
}

/* SEARCH RESULTS
   
   Styling for individual search result items in the search dropdown.
   Provides hover effects and proper spacing for the search interface.
   
   Used by: Search dropdown in navigation, mobile search results
   Templates: base.html (search dropdown)
   Interaction: Clicking items navigates to application pages
*/

/* Base search result item styling */
.search-result-item {
    padding: 12px 16px;
    border-bottom: 1px solid #e5e7eb;
    transition: background-color 0.2s;
}

/* Hover state - light background */
.search-result-item:hover {
    background-color: #f9fafb;
}

/* Remove border from last item */
.search-result-item:last-child {
    border-bottom: none;
}

/* DARK MODE SEARCH RESULTS
   
   Dark theme variants for search result items with appropriate color adjustments.
*/

/* Dark mode border color */
.dark .search-result-item {
    border-bottom-color: #374151;
}

/* Dark mode hover state */
.dark .search-result-item:hover {
    background-color: #374151;
}

/* FOCUS STATES
   
   Enhanced focus indicators for better keyboard navigation accessibility.
   Provides clear visual feedback when elements are focused via keyboard.

   Used by: All focusable elements (buttons, links, form controls)
   Templates: All pages with interactive elements
   Accessibility: Improves keyboard navigation experience
*/

/* Enhanced focus state for better accessibility */
.focus-visible {
    outline: 2px solid #3b82f6;
    outline-offset: 2px;
}

/* ANIMATIONS
   
   Custom keyframe animations for enhanced user experience.
   Provides smooth transitions for dynamic content and interactions.
   
   Used by: Dynamic content loading, search results, modal dialogs
   Templates: All pages with dynamic content
   Performance: Uses transform and opacity for optimal performance
*/

/* Fade-in animation keyframes */
@keyframes fadeIn {
    from { 
        opacity: 0;
        transform: translateY(10px);
    }
    to { 
        opacity: 1;
        transform: translateY(0);
    }
}

/* Fade-in animation class */
.fade-in {
    animation: fadeIn 0.3s ease-out;
}

/* COMMIT ACTIVITY GRAPH STYLES
   
   Styling for the GitHub-style commit activity graph displayed on application
   detail pages. Provides interactive visualization of project activity over time.
   
   Used by: Application detail pages showing GitHub activity
   Templates: app_detail.html
   Data Source: GitHub API commit activity data
   Interaction: Hover effects show commit counts and dates
*/

/* Base commit graph container */
.commit-graph {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
}

/* Container for individual commit bars */
.commit-graph .bar-container {
    position: relative;
}

/* Individual commit activity bars */
.commit-graph .bar {
    transition: all 0.2s ease;
    cursor: pointer;
}

/* Hover effects for commit bars */
.commit-graph .bar:hover {
    opacity: 0.8;
    transform: scaleY(1.1);
}

/* Month labels on the graph */
.commit-graph .month-label {
    font-size: 10px;
    text-anchor: middle;
    writing-mode: vertical-lr;
    text-orientation: mixed;
}

/* RESPONSIVE COMMIT GRAPH
   
   Mobile-specific adjustments for the commit activity graph to ensure
   proper display and interaction on smaller screens.
*/

/* Mobile responsive adjustments */
@media (max-width: 768px) {
    /* Smaller font size for month labels on mobile */
    .commit-graph .month-label {
        font-size: 8px;
    }
    
    /* Minimum width for commit bars on mobile */
    .commit-graph .bar {
        min-width: 16px;
    }
}

/* TOOLTIP ENHANCEMENTS
   
   Enhanced tooltip styling for better visibility and user experience.
   Provides custom styling for native HTML title attributes and custom tooltips.
   
   Used by: Elements with title attributes, custom tooltip implementations
   Templates: All pages with tooltip content
   Interaction: Appears on hover, disappears on mouse leave
*/

/* Base positioning for elements with title attributes */
[title] {
    position: relative;
}

/* Custom tooltip styling for better visibility */
.tooltip {
    position: absolute;
    background: rgba(0, 0, 0, 0.9);
    color: white;
    padding: 8px 12px;
    border-radius: 6px;
    font-size: 12px;
    pointer-events: none;
    z-index: 1000;
    white-space: nowrap;
}

/* LOADING STATES
   
   Visual feedback for loading states to indicate when content is being fetched
   or processed. Provides clear indication that the system is working.
   
   Used by: Dynamic content loading, form submissions, API calls
   Templates: All pages with dynamic content
   Interaction: Applied during loading states, removed when complete
*/

/* Loading state styling */
.loading {
    opacity: 0.6;
    pointer-events: none;
}

/* BADGE STYLES
   
   Small, pill-shaped badges for displaying status, categories, or labels.
   Provides consistent styling for metadata and status indicators.
   
   Used by: Application metadata, status indicators, category labels
   Templates: browse.html, app_detail.html
   Variants: Primary (blue), can be extended for other colors
*/

/* Base badge styling */
.badge {
    display: inline-block;
    padding: 0.25rem 0.75rem;
    font-size: 0.75rem;
    font-weight: 500;
    border-radius: 9999px;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

/* Primary badge variant - Light theme */
.badge-primary {
    background-color: #dbeafe;
    color: #1d4ed8;
}

/* DARK MODE BADGES
   
   Dark theme variants for badges with appropriate color adjustments.
*/

/* Primary badge variant - Dark theme */
.dark .badge-primary {
    background-color: #1e3a8a;
    color: #93c5fd;
}

/* BANNER ANIMATIONS AND STYLING
   
   Styling and animations for the site banner component that appears at the top
   of pages. Provides smooth entrance animations and responsive behavior.
   
   Used by: Site banner in base.html template
   Templates: base.html (when banner is enabled in config)
   Animation: Slide-down entrance effect
*/

/* Banner container animations */
.banner-container,
#site-banner {
    animation: slideDown 0.3s ease-out;
}

/* Slide-down animation keyframes */
@keyframes slideDown {
    from {
        transform: translateY(-100%);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

/* BANNER RESPONSIVE ADJUSTMENTS
   
   Mobile-specific adjustments for the site banner to ensure proper display
   and interaction on smaller screens.
*/

/* Mobile banner layout adjustments */
@media (max-width: 640px) {
    #site-banner {
        flex-direction: column;
        text-align: center;
        gap: 0.75rem;
        padding: 1rem;
    }
    
    /* Full width for flex items on mobile */
    #site-banner .flex-1 {
        flex: none;
        width: 100%;
    }
    
    /* Center flex-wrap content */
    #site-banner .flex-wrap {
        justify-content: center;
    }
}

/* Hide decorative elements on mobile to prevent interference */
@media (max-width: 768px) {
    #site-banner [aria-hidden="true"] {
        display: none;
    }
}

/* MOBILE RESPONSIVE IMPROVEMENTS
   
   General mobile responsive adjustments for better user experience on
   smaller screens. Covers container spacing and grid layouts.
   
   Used by: All pages with responsive layouts
   Templates: All pages
   Breakpoint: 640px and below
*/

/* Mobile responsive improvements */
@media (max-width: 640px) {
    /* Reduced container padding for mobile */
    .container {
        padding-left: 1rem;
        padding-right: 1rem;
    }
    
    /* Single column grid layout for mobile */
    .grid-responsive {
        grid-template-columns: 1fr;
        gap: 1rem;
    }
}

/* APP-DETAILS MOBILE-SPECIFIC IMPROVEMENTS
   
   Mobile-specific optimizations for application detail pages to ensure
   optimal viewing and interaction experience on smaller screens.
   
   Used by: Application detail pages
   Templates: app_detail.html
   Breakpoint: 640px and below
*/

/* App detail page mobile optimizations */
@media (max-width: 640px) {
    /* Optimized prose typography for mobile reading */
    .prose {
        font-size: 0.95rem;
    }
    
    /* Ensure buttons meet minimum touch target size (44px) */
    .app-detail-buttons a {
        min-height: 44px;
    }
    
    /* Better spacing for mobile metadata cards */
    .app-detail-metadata > div {
        padding: 0.75rem;
    }
    
    /* Horizontal scrolling for commit graph on mobile */
    .commit-graph {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
    }
    
    /* Responsive spacing for related apps grid */
    .related-apps-grid {
        gap: 1rem;
    }
}

/* METADATA BADGES MOBILE OPTIMIZATION
   
   Ensures metadata badges wrap properly on very small screens to prevent
   overflow and maintain readability.
   
   Used by: Application metadata badges
   Templates: app_detail.html, browse.html
   Breakpoint: 480px and below
*/

/* Ensure metadata badges don't overflow on very small mobile screens */
@media (max-width: 480px) {
    .metadata-badges {
        flex-wrap: wrap;
        gap: 0.25rem;
    }
}

/* COMMIT GRAPH MOBILE SCROLLING OPTIMIZATION
   
   Specialized mobile optimizations for the commit activity graph to ensure
   proper horizontal scrolling and visual feedback on touch devices.
   
   Used by: Commit activity graph on app detail pages
   Templates: app_detail.html
   Breakpoint: 640px and below
*/

/* Mobile commit graph optimizations */
@media (max-width: 640px) {
    /* Minimum width for commit graph SVG */
    .commit-graph svg {
        min-width: 320px;
    }
    
    /* Smooth horizontal scrolling on mobile only */
    .commit-graph .overflow-x-auto {
        scroll-behavior: smooth;
        -webkit-overflow-scrolling: touch;
        scrollbar-width: thin;
    }
    
    /* Custom scrollbar styling for mobile commit graph */
    .commit-graph .overflow-x-auto::-webkit-scrollbar {
        height: 6px;
    }
    
    /* Light theme scrollbar track */
    .commit-graph .overflow-x-auto::-webkit-scrollbar-track {
        background: rgba(156, 163, 175, 0.1);
        border-radius: 3px;
    }
    
    /* Light theme scrollbar thumb */
    .commit-graph .overflow-x-auto::-webkit-scrollbar-thumb {
        background: rgba(156, 163, 175, 0.3);
        border-radius: 3px;
    }
    
    /* Dark theme scrollbar track */
    .dark .commit-graph .overflow-x-auto::-webkit-scrollbar-track {
        background: rgba(75, 85, 99, 0.3);
    }
    
    /* Dark theme scrollbar thumb */
    .dark .commit-graph .overflow-x-auto::-webkit-scrollbar-thumb {
        background: rgba(156, 163, 175, 0.3);
    }
}

/* DESKTOP COMMIT GRAPH OPTIMIZATION
   
   Desktop-specific optimizations for the commit graph to ensure proper
   display without unnecessary scrolling on larger screens.
   
   Used by: Commit activity graph on app detail pages
   Templates: app_detail.html
   Breakpoint: 641px and above
*/

/* Desktop commit graph optimizations */
@media (min-width: 641px) {
    /* Ensure no scrollbar on desktop */
    .commit-graph .overflow-visible {
        overflow: visible !important;
    }
    
    /* Responsive SVG sizing for desktop */
    .commit-graph svg {
        max-width: 100%;
        height: auto;
    }
}

/* SCROLL HINT ANIMATION
   
   Pulse animation for indicating scrollable content or loading states.
   Provides subtle visual feedback to draw user attention.

   Used by: Loading indicators, scroll hints, attention-grabbing elements
   Templates: All pages with dynamic content
   Duration: 2 seconds per cycle
*/

/* Pulse animation keyframes */
@keyframes pulse {
    0%, 100% {
        opacity: 1;
    }
    50% {
        opacity: 0.5;
    }
}

/* Pulse animation class */
.animate-pulse {
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}
