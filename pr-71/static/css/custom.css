/**
  =============================================================================
  CUSTOM STYLES FOR ASWG
  =============================================================================
  
  This file contains custom CSS styles that extend and enhance the Tailwind CSS
  framework for ASWG.
  
  USAGE:
  - This file is loaded after tailwind.css in base.html template
  - All styles work with the .dark class for dark mode switching
  - Components are used across various templates (browse, app-detail, etc.)
  
  DEPENDENCIES:
  - Requires Tailwind CSS to be loaded first
  - Uses CSS custom properties for consistent theming
  - Relies on JavaScript for theme switching functionality
  
  =============================================================================
*/

/* GLOBAL TRANSITIONS & ANIMATIONS
   
   Provides smooth transitions for all interactive elements to enhance user
   experience. Applied globally to ensure consistent behavior across the site.
   
   Used by: All interactive elements (buttons, links, form controls, etc.)
   Templates: All pages (base.html, browse.html, app_detail.html, etc.)
*/
* {
    transition: color 0.2s ease, background-color 0.2s ease, border-color 0.2s ease;
}

/* CUSTOM SCROLLBAR STYLING
   
   Provides consistent, modern scrollbar styling across all browsers that support
   webkit scrollbar pseudo-elements. Includes both light and dark theme variants.
   
   Used by: All scrollable elements (main content, search results, mobile menus)
   Templates: All pages with scrollable content
   Browser Support: Webkit-based browsers (Chrome, Safari, Edge)
*/

/* Base scrollbar styling for light theme */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

/* Scrollbar track (background) - Light theme */
::-webkit-scrollbar-track {
    background: var(--color-scroll-track);
}

/* Scrollbar thumb (draggable part) - Light theme */
::-webkit-scrollbar-thumb {
    background: var(--color-scroll-thumb);
    border-radius: 4px;
}

/* Scrollbar thumb hover state - Light theme */
::-webkit-scrollbar-thumb:hover {
    background: var(--color-scroll-thumb-hover);
}

/* ENHANCED FILTER CHECKBOXES
   
   Custom-styled checkboxes for filter controls in browse and search interfaces.
   Replaces default browser checkboxes with modern, accessible alternatives.
   
   Used by: Filter controls in browse.html, search interfaces
   Templates: browse.html, alternatives.html
   Accessibility: Includes focus states and proper contrast ratios
*/

/* Base checkbox styling - removes default appearance */
.filter-checkbox {
    appearance: none;
    width: 18px;
    height: 18px;
    border: 2px solid var(--color-checkbox-border);
    border-radius: 4px;
    background: var(--color-checkbox-bg);
    cursor: pointer;
    position: relative;
    margin-right: 8px;
    flex-shrink: 0;
    transition: all 0.2s ease;
}

/* Hover state - primary border and light background */
.filter-checkbox:hover {
    border-color: var(--color-primary);
    background-color: var(--color-checkbox-hover-bg);
}

/* Checked state - primary background and border */
.filter-checkbox:checked {
    background-color: var(--color-checkbox-checked-bg);
    border-color: var(--color-checkbox-checked-border);
}

/* Custom checkmark using CSS pseudo-element */
.filter-checkbox:checked::after {
    content: '';
    position: absolute;
    left: 5px;
    top: 2px;
    width: 6px;
    height: 10px;
    border: solid var(--color-checkbox-checkmark);
    border-width: 0 2px 2px 0;
    transform: rotate(45deg);
}

/* Focus state for keyboard navigation accessibility */
.filter-checkbox:focus {
    outline: none;
    box-shadow: 0 0 0 3px var(--color-focus-ring);
}

/* FILTER LABELS
   
   Styling for labels that contain filter checkboxes. Provides clickable areas
   around checkboxes and visual feedback for different states.
   
   Used by: Filter controls in browse.html, search interfaces
   Templates: browse.html, alternatives.html
   Interaction: Clicking label toggles associated checkbox
*/

/* Base filter label styling */
.filter-label {
    display: flex;
    align-items: center;
    padding: 8px 12px;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s ease;
    font-size: 14px;
    line-height: 1.4;
    color: var(--color-filter-label-text);
    user-select: none;
}

/* Hover state - light background and darker text */
.filter-label:hover {
    background-color: var(--color-filter-label-hover-bg);
    color: var(--color-filter-label-hover-text);
}

/* Checked state - primary background and text (using :has() selector) */
.filter-label:has(.filter-checkbox:checked) {
    background-color: var(--color-filter-label-checked-bg);
    color: var(--color-filter-label-checked-text);
}

/* SORT BUTTONS
   
   Styling for sort control buttons used in browse and search interfaces.
   Provides clear visual feedback for active/inactive states and hover effects.
   
   Used by: Sort controls in browse.html, search result sorting
   Templates: browse.html, alternatives.html
   States: Default, hover, active (selected sort option)
*/

/* Base sort button styling */
.sort-button {
    padding: 8px 16px;
    font-size: 14px;
    font-weight: 500;
    border-radius: 6px;
    border: 1px solid transparent;
    cursor: pointer;
    transition: all 0.2s ease;
    background: var(--color-sort-button-bg);
    color: var(--color-sort-button-text);
}

/* Hover state - light background and darker text */
.sort-button:hover {
    background-color: var(--color-sort-button-hover-bg);
    color: var(--color-sort-button-hover-text);
}

/* Active state - primary background and white text */
.sort-button.active {
    background-color: var(--color-sort-button-active-bg);
    color: var(--color-sort-button-active-text);
    border-color: var(--color-sort-button-active-border);
    font-weight: 600;
}

/* ENHANCED TOGGLE SWITCH FOR NON-FREE LICENSE
   
   Custom toggle switch component for enabling/disabling non-free license
   applications in the browse interface. Provides a modern, accessible alternative
   to standard checkboxes for binary on/off states.
   
   Used by: Non-free license filter in browse.html
   Templates: browse.html
   Interaction: Toggles between showing/hiding non-free applications
*/

/* Toggle container - provides positioning context */
.custom-toggle {
    position: relative;
    display: inline-block;
    width: 44px;
    height: 24px;
}

/* Hide the actual input checkbox */
.custom-toggle input {
    opacity: 0;
    width: 0;
    height: 0;
}

/* Toggle slider track */
.toggle-slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: var(--color-toggle-track);
    transition: all 0.3s ease;
    border-radius: 24px;
}

/* Toggle knob (sliding circle) */
.toggle-slider:before {
    position: absolute;
    content: "";
    height: 18px;
    width: 18px;
    left: 3px;
    bottom: 3px;
    background-color: var(--color-toggle-knob);
    transition: all 0.3s ease;
    border-radius: 50%;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

/* On state - primary background */
input:checked + .toggle-slider {
    background-color: var(--color-toggle-active);
}

/* On state - move knob to right side */
input:checked + .toggle-slider:before {
    transform: translateX(20px);
}

/* LANGUAGE COLOR DOTS
   
   Small circular indicators used to show programming language colors in
   application cards and detail pages. Provides visual identification of
   the primary programming language for each application.
   
   Used by: Application cards in browse.html, app detail pages
   Templates: browse.html, app_detail.html
   Colors: Dynamically set via inline styles from language data
*/

/* Base language dot styling */
.language-dot {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    display: inline-block;
    margin-right: 8px;
}

/* SEARCH RESULTS
   
   Styling for individual search result items in the search dropdown.
   Provides hover effects and proper spacing for the search interface.
   
   Used by: Search dropdown in navigation, mobile search results
   Templates: base.html (search dropdown)
   Interaction: Clicking items navigates to application pages
*/

/* Base search result item styling */
.search-result-item {
    padding: 12px 16px;
    border-bottom: 1px solid var(--color-search-input-border);
    transition: background-color 0.2s;
}

/* Hover state - light background */
.search-result-item:hover {
    background-color: var(--color-surface-alt);
}

/* Remove border from last item */
.search-result-item:last-child {
    border-bottom: none;
}

/* FOCUS STATES
   
   Enhanced focus indicators for better keyboard navigation accessibility.
   Provides clear visual feedback when elements are focused via keyboard.

   Used by: All focusable elements (buttons, links, form controls)
   Templates: All pages with interactive elements
   Accessibility: Improves keyboard navigation experience
*/

/* Enhanced focus state for better accessibility */
.focus-visible {
    outline: 2px solid var(--color-primary);
    outline-offset: 2px;
}

/* ANIMATIONS
   
   Custom keyframe animations for enhanced user experience.
   Provides smooth transitions for dynamic content and interactions.
   
   Used by: Dynamic content loading, search results, modal dialogs
   Templates: All pages with dynamic content
   Performance: Uses transform and opacity for optimal performance
*/

/* Fade-in animation keyframes */
@keyframes fadeIn {
    from { 
        opacity: 0;
        transform: translateY(10px);
    }
    to { 
        opacity: 1;
        transform: translateY(0);
    }
}

/* Fade-in animation class */
.fade-in {
    animation: fadeIn 0.3s ease-out;
}

/* Card hover animation - subtle lift with enhanced shadow */
.app-card {
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.app-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px -5px rgba(0, 0, 0, 0.1), 0 4px 10px -5px rgba(0, 0, 0, 0.04);
}

.dark .app-card:hover {
    box-shadow: 0 8px 25px -5px rgba(0, 0, 0, 0.3), 0 4px 10px -5px rgba(0, 0, 0, 0.2);
}

/* COMMIT ACTIVITY GRAPH STYLES
   
   Styling for the GitHub-style commit activity graph displayed on application
   detail pages. Provides interactive visualization of project activity over time.
   
   Used by: Application detail pages showing GitHub activity
   Templates: app_detail.html
   Data Source: GitHub API commit activity data
   Interaction: Hover effects show commit counts and dates
*/

/* Base commit graph container */
.commit-graph {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
}

/* Container for individual commit bars */
.commit-graph .bar-container {
    position: relative;
}

/* Individual commit activity bars */
.commit-graph .bar {
    transition: all 0.2s ease;
    cursor: pointer;
}

/* Hover effects for commit bars */
.commit-graph .bar:hover {
    opacity: 0.8;
    transform: scaleY(1.1);
}

/* Month labels on the graph */
.commit-graph .month-label {
    font-size: 10px;
    text-anchor: middle;
    writing-mode: vertical-lr;
    text-orientation: mixed;
}

/* RESPONSIVE COMMIT GRAPH
   
   Mobile-specific adjustments for the commit activity graph to ensure
   proper display and interaction on smaller screens.
*/

/* Mobile responsive adjustments */
@media (max-width: 1024px) {
    /* Smaller font size for month labels on mobile */
    .commit-graph .month-label {
        font-size: 8px;
    }
    
    /* Minimum width for commit bars on mobile */
    .commit-graph .bar {
        min-width: 16px;
    }
}

/* TOOLTIP ENHANCEMENTS
   
   Enhanced tooltip styling for better visibility and user experience.
   Provides custom styling for native HTML title attributes and custom tooltips.
   
   Used by: Elements with title attributes, custom tooltip implementations
   Templates: All pages with tooltip content
   Interaction: Appears on hover, disappears on mouse leave
*/

/* Base positioning for elements with title attributes */
[title] {
    position: relative;
}

/* Custom tooltip styling for better visibility */
.tooltip {
    position: absolute;
    background: rgba(0, 0, 0, 0.9);
    color: white;
    padding: 8px 12px;
    border-radius: 6px;
    font-size: 12px;
    pointer-events: none;
    z-index: 1000;
    white-space: nowrap;
}

/* LOADING STATES
   
   Visual feedback for loading states to indicate when content is being fetched
   or processed. Provides clear indication that the system is working.
   
   Used by: Dynamic content loading, form submissions, API calls
   Templates: All pages with dynamic content
   Interaction: Applied during loading states, removed when complete
*/

/* Loading state styling */
.loading {
    opacity: 0.6;
    pointer-events: none;
}

/* BADGE STYLES
   
   Small, pill-shaped badges for displaying status, categories, or labels.
   Provides consistent styling for metadata and status indicators.
   
   Used by: Application metadata, status indicators, category labels
   Templates: browse.html, app_detail.html
   Variants: Primary (blue), can be extended for other colors
*/

/* Base badge styling */
.badge {
    display: inline-block;
    padding: 0.25rem 0.75rem;
    font-size: 0.75rem;
    font-weight: 500;
    border-radius: 9999px;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

/* Primary badge variant */
.badge-primary {
    background-color: var(--color-badge-bg);
    color: var(--color-badge-text);
}

/* BANNER ANIMATIONS AND STYLING
   
   Styling and animations for the site banner component that appears at the top
   of pages. Provides smooth entrance animations and responsive behavior.
   
   Used by: Site banner in base.html template
   Templates: base.html (when banner is enabled in config)
   Animation: Slide-down entrance effect
*/

/* Banner container animations */
.banner-container,
#site-banner {
    animation: slideDown 0.3s ease-out;
}

/* Slide-down animation keyframes */
@keyframes slideDown {
    from {
        transform: translateY(-100%);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

/* BANNER RESPONSIVE ADJUSTMENTS
   
   Mobile-specific adjustments for the site banner to ensure proper display
   and interaction on smaller screens.
*/

/* Mobile banner layout adjustments */
@media (max-width: 640px) {
    #site-banner {
        flex-direction: column;
        text-align: center;
        gap: 0.75rem;
        padding: 1rem;
    }
    
    /* Full width for flex items on mobile */
    #site-banner .flex-1 {
        flex: none;
        width: 100%;
    }
    
    /* Center flex-wrap content */
    #site-banner .flex-wrap {
        justify-content: center;
    }
}

/* Hide decorative elements on mobile to prevent interference */
@media (max-width: 1024px) {
    #site-banner [aria-hidden="true"] {
        display: none;
    }
}

/* MOBILE RESPONSIVE IMPROVEMENTS
   
   General mobile responsive adjustments for better user experience on
   smaller screens. Covers container spacing and grid layouts.
   
   Used by: All pages with responsive layouts
   Templates: All pages
   Breakpoint: 640px and below
*/

/* Mobile responsive improvements */
@media (max-width: 640px) {
    /* Reduced container padding for mobile */
    .container {
        padding-left: 1rem;
        padding-right: 1rem;
    }
    
    /* Single column grid layout for mobile */
    .grid-responsive {
        grid-template-columns: 1fr;
        gap: 1rem;
    }
}

/* APP-DETAILS MOBILE-SPECIFIC IMPROVEMENTS
   
   Mobile-specific optimizations for application detail pages to ensure
   optimal viewing and interaction experience on smaller screens.
   
   Used by: Application detail pages
   Templates: app_detail.html
   Breakpoint: 640px and below
*/

/* App detail page mobile optimizations */
@media (max-width: 640px) {
    /* Optimized prose typography for mobile reading */
    .prose {
        font-size: 0.95rem;
    }
    
    /* Ensure buttons meet minimum touch target size (44px) */
    .app-detail-buttons a {
        min-height: 44px;
    }
    
    /* Better spacing for mobile metadata cards */
    .app-detail-metadata > div {
        padding: 0.75rem;
    }
    
    /* Horizontal scrolling for commit graph on mobile */
    .commit-graph {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
    }
    
    /* Responsive spacing for related apps grid */
    .related-apps-grid {
        gap: 1rem;
    }
}

/* METADATA BADGES MOBILE OPTIMIZATION
   
   Ensures metadata badges wrap properly on very small screens to prevent
   overflow and maintain readability.
   
   Used by: Application metadata badges
   Templates: app_detail.html, browse.html
   Breakpoint: 480px and below
*/

/* Ensure metadata badges don't overflow on very small mobile screens */
@media (max-width: 480px) {
    .metadata-badges {
        flex-wrap: wrap;
        gap: 0.25rem;
    }
}

/* COMMIT GRAPH MOBILE SCROLLING OPTIMIZATION
   
   Specialized mobile optimizations for the commit activity graph to ensure
   proper horizontal scrolling and visual feedback on touch devices.
   
   Used by: Commit activity graph on app detail pages
   Templates: app_detail.html
   Breakpoint: 640px and below
*/

/* Mobile commit graph optimizations */
@media (max-width: 640px) {
    /* Minimum width for commit graph SVG */
    .commit-graph svg {
        min-width: 320px;
    }
    
    /* Smooth horizontal scrolling on mobile only */
    .commit-graph .overflow-x-auto {
        scroll-behavior: smooth;
        -webkit-overflow-scrolling: touch;
        scrollbar-width: thin;
    }
    
    /* Custom scrollbar styling for mobile commit graph */
    .commit-graph .overflow-x-auto::-webkit-scrollbar {
        height: 6px;
    }
    
    /* Light theme scrollbar track */
    .commit-graph .overflow-x-auto::-webkit-scrollbar-track {
        background: rgba(156, 163, 175, 0.1);
        border-radius: 3px;
    }
    
    /* Light theme scrollbar thumb */
    .commit-graph .overflow-x-auto::-webkit-scrollbar-thumb {
        background: rgba(156, 163, 175, 0.3);
        border-radius: 3px;
    }
    
    /* Dark theme scrollbar track */
    .dark .commit-graph .overflow-x-auto::-webkit-scrollbar-track {
        background: rgba(75, 85, 99, 0.3);
    }
    
    /* Dark theme scrollbar thumb */
    .dark .commit-graph .overflow-x-auto::-webkit-scrollbar-thumb {
        background: rgba(156, 163, 175, 0.3);
    }
}

/* DESKTOP COMMIT GRAPH OPTIMIZATION
   
   Desktop-specific optimizations for the commit graph to ensure proper
   display without unnecessary scrolling on larger screens.
   
   Used by: Commit activity graph on app detail pages
   Templates: app_detail.html
   Breakpoint: 641px and above
*/

/* Desktop commit graph optimizations */
@media (min-width: 641px) {
    /* Ensure no scrollbar on desktop */
    .commit-graph .overflow-visible {
        overflow: visible !important;
    }
    
    /* Responsive SVG sizing for desktop */
    .commit-graph svg {
        max-width: 100%;
        height: auto;
    }
}

/* SCROLL HINT ANIMATION
   
   Pulse animation for indicating scrollable content or loading states.
   Provides subtle visual feedback to draw user attention.

   Used by: Loading indicators, scroll hints, attention-grabbing elements
   Templates: All pages with dynamic content
   Duration: 2 seconds per cycle
*/

/* Pulse animation keyframes */
@keyframes pulse {
    0%, 100% {
        opacity: 1;
    }
    50% {
        opacity: 0.5;
    }
}

/* Pulse animation class */
.animate-pulse {
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* MOBILE FILTER DRAWER STYLES

   Styling for the mobile-specific filter drawer that provides a slide-in
   interface for filtering and sorting options on smaller screens.

   Used by: Mobile filter drawer in browse.html
   Templates: browse.html
   Breakpoint: Below lg (1024px)
   Interaction: Slides up from bottom with backdrop overlay
*/

/* Mobile drawer slide animation keyframes */
@keyframes slideUpDrawer {
    from {
        transform: translateY(100%);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

/* Mobile drawer slide animation class */
.mobile-drawer-slide {
    animation: slideUpDrawer 0.3s ease-out;
}

/* Prevent body scrolling when drawer is open */
body.mobile-drawer-open {
    overflow: hidden;
}

/* Mobile filter drawer shown state */
#mobileFilterDrawer.show {
    display: block !important;
}

/* Backdrop fade-in animation */
#mobileFilterBackdrop {
    animation: fadeIn 0.3s ease-out;
}

/* Ensure drawer is above all other content */
#mobileFilterDrawer {
    z-index: 9999;
}

/* Mobile filter button hover effect enhancement */
#mobileFilterButton:active {
    transform: scale(0.98);
}

/* Smooth scrolling for mobile drawer body */
#mobileFilterContent > div:nth-child(2) {
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
}

/* Mobile filter sections spacing */
.mobile-filter-section {
    padding: 1rem;
    border-radius: 0.5rem;
}

/* RESPONSIVE MOBILE DRAWER ADJUSTMENTS

   Ensures proper display and interaction on very small mobile screens.
   Adjusts drawer height and spacing for optimal usability.
*/

@media (max-width: 480px) {
    /* Reduce max height on very small screens to ensure Apply button is visible */
    #mobileFilterContent {
        max-height: 70vh;
    }

    /* Reduce padding on very small screens */
    #mobileFilterContent .p-4 {
        padding: 0.75rem;
    }
}

/* MOBILE FILTER SEARCH TOGGLE

   Styling for the search toggle buttons within the mobile filter drawer.
   Provides consistent interaction patterns with desktop filters.
*/

.mobile-filter-search-toggle {
    transition: all 0.2s ease;
}

.mobile-filter-search-toggle:hover {
    background-color: var(--color-mobile-filter-drawer-filter-hover);
    border-radius: 0.25rem;
}

/* DUAL RANGE SLIDER STYLES
   
   Custom dual-range slider component for filtering by numeric ranges
   (star count, days since update). Provides two draggable handles to
   select a min/max range.
   
   Used by: Star count filter, last updated filter in browse.html
   Templates: browse.html
   Interaction: Drag handles or click/type values to set range
*/

/* Range slider container */
.range-slider-container {
    position: relative;
    width: 100%;
    padding: 10px 0;
}

/* Track background */
.range-slider-track {
    position: relative;
    width: 100%;
    height: 6px;
    background: var(--color-surface-alt);
    border-radius: 3px;
}

/* Selected range highlight */
.range-slider-range {
    position: absolute;
    height: 100%;
    background: var(--color-primary);
    border-radius: 3px;
}

/* Range input styling - stacked on top of each other */
.range-slider-input {
    position: absolute;
    width: 100%;
    height: 6px;
    top: 10px;
    -webkit-appearance: none;
    appearance: none;
    background: transparent;
    pointer-events: none;
    z-index: 2;
}

/* Webkit slider thumb */
.range-slider-input::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 18px;
    height: 18px;
    background: var(--color-primary);
    border: 2px solid var(--color-surface);
    border-radius: 50%;
    cursor: pointer;
    pointer-events: auto;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    transition: transform 0.15s ease, box-shadow 0.15s ease;
}

.range-slider-input::-webkit-slider-thumb:hover {
    transform: scale(1.15);
    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.3);
}

.range-slider-input::-webkit-slider-thumb:active {
    transform: scale(1.1);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.25);
}

/* Firefox slider thumb */
.range-slider-input::-moz-range-thumb {
    width: 18px;
    height: 18px;
    background: var(--color-primary);
    border: 2px solid var(--color-surface);
    border-radius: 50%;
    cursor: pointer;
    pointer-events: auto;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    transition: transform 0.15s ease, box-shadow 0.15s ease;
}

.range-slider-input::-moz-range-thumb:hover {
    transform: scale(1.15);
    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.3);
}

/* Firefox track */
.range-slider-input::-moz-range-track {
    background: transparent;
}

/* Range slider value labels container */
.range-slider-labels {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    gap: 4px;
    margin-top: 12px;
    font-size: 13px;
}

/* Editable value input */
.range-value-input {
    width: 60px;
    min-width: 0;
    padding: 4px 4px;
    font-size: 13px;
    text-align: center;
    border: 1px solid var(--color-border);
    border-radius: 4px;
    background: var(--color-surface);
    color: var(--color-text);
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
}

.range-value-input:focus {
    outline: none;
    border-color: var(--color-primary);
    box-shadow: 0 0 0 2px var(--color-focus-ring);
}

.range-value-input:hover:not(:focus) {
    border-color: var(--color-primary);
}

/* Days value input - narrower for days display */
.range-value-input.days-input {
    width: 50px;
}

/* Range slider separator text */
.range-slider-separator {
    color: var(--color-text-muted);
    font-weight: 500;
    padding: 0 4px;
    flex-shrink: 0;
}

/* Range slider section header with reset button */
.range-filter-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 12px;
}

.range-filter-title {
    font-size: 14px;
    font-weight: 600;
    color: var(--color-text);
}

.range-filter-reset {
    font-size: 12px;
    color: var(--color-text-muted);
    background: none;
    border: none;
    cursor: pointer;
    padding: 2px 6px;
    border-radius: 4px;
    transition: background-color 0.2s ease, color 0.2s ease;
}

.range-filter-reset:hover {
    background-color: var(--color-surface-alt);
    color: var(--color-text);
}

/* Mobile adjustments for range sliders */
@media (max-width: 640px) {
    .range-value-input {
        width: 55px;
        padding: 6px 2px;
        font-size: 13px;
    }
    
    .range-value-input.days-input {
        width: 45px;
    }
    
    .range-slider-input::-webkit-slider-thumb {
        width: 22px;
        height: 22px;
    }
    
    .range-slider-input::-moz-range-thumb {
        width: 22px;
        height: 22px;
    }

    .range-slider-separator {
        padding: 0 2px;
    }
}

/* Desktop sidebar narrow context - ensure range filters don't overflow */
@media (min-width: 1024px) {
    #desktopFilterSidebar .range-value-input {
        width: 52px;
        padding: 4px 2px;
        font-size: 12px;
    }

    #desktopFilterSidebar .range-value-input.days-input {
        width: 42px;
    }

    #desktopFilterSidebar .range-slider-separator {
        padding: 0 2px;
    }

    #desktopFilterSidebar .range-slider-labels {
        font-size: 12px;
        gap: 2px;
    }
}

/* =============================================================================
   APPLICATION ICON COMPONENTS
   =============================================================================
   
   Icon and letter-avatar components for displaying project icons on cards
   and detail pages. Supports both actual image icons and generated
   letter-avatar fallbacks.
   
   Used by: browse cards, homepage cards, app detail pages, alternatives cards
   Templates: index.html, browse.html, app_detail.html, alternatives.html
*/

/* Standard app icon (32x32) used on cards */
.app-icon {
    width: 32px;
    height: 32px;
    border-radius: 8px;
    object-fit: cover;
    flex-shrink: 0;
}

/* Large app icon (56x56) used on detail pages */
.app-icon-lg {
    width: 56px;
    height: 56px;
    border-radius: 12px;
    object-fit: cover;
    flex-shrink: 0;
}

/* Letter avatar base - used as fallback when no icon_url is set */
.letter-avatar {
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    color: #FFFFFF;
    flex-shrink: 0;
    user-select: none;
}

/* Standard size letter avatar (32x32) */
.letter-avatar-sm {
    width: 32px;
    height: 32px;
    border-radius: 8px;
    font-size: 14px;
}

/* Large size letter avatar (56x56) */
.letter-avatar-lg {
    width: 56px;
    height: 56px;
    border-radius: 12px;
    font-size: 22px;
}

/* Mobile adjustments for app icons */
@media (max-width: 640px) {
    .app-icon {
        width: 28px;
        height: 28px;
        border-radius: 6px;
    }
    
    .letter-avatar-sm {
        width: 28px;
        height: 28px;
        border-radius: 6px;
        font-size: 12px;
    }
    
    .app-icon-lg {
        width: 48px;
        height: 48px;
        border-radius: 10px;
    }
    
    .letter-avatar-lg {
        width: 48px;
        height: 48px;
        border-radius: 10px;
        font-size: 20px;
    }
}

/* =============================================================================
   NAVIGATION SCROLL EFFECT
   =============================================================================
   
   Adds a subtle backdrop blur and enhanced shadow to the navigation bar
   when the user scrolls down. Controlled by JavaScript in app.js.
   
   Used by: Main navigation bar in base.html
   Templates: base.html
*/

/* Navigation bar scroll state */
.nav-scrolled {
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1);
}

.dark .nav-scrolled {
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.3), 0 1px 2px -1px rgba(0, 0, 0, 0.2);
}

/* Scroll-to-top button: circle, centered icon, clickable cursor */
.scroll-to-top-btn {
    width: 3rem;
    height: 3rem;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: 1.25rem;
    line-height: 1;
    cursor: pointer;
}


/* =============================================================================
   SECTION DIVIDER
   =============================================================================
   
   Subtle horizontal divider between homepage sections, replacing the
   alternating background color pattern.
   
   Used by: Homepage section separators
   Templates: index.html
*/

.section-divider {
    height: 1px;
    background: linear-gradient(
        to right,
        transparent,
        var(--color-border),
        transparent
    );
    margin: 0 auto;
    max-width: 80%;
}

/* =============================================================================
   STAT CARD HORIZONTAL LAYOUT
   =============================================================================
   
   Compact horizontal stat cards for statistics sections on homepage
   and statistics page.
   
   Used by: Statistics overview cards
   Templates: index.html, statistics.html
*/

.stat-card {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1.25rem 1.5rem;
    border-radius: 0.75rem;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.stat-card:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px -2px rgba(0, 0, 0, 0.08);
}

.dark .stat-card:hover {
    box-shadow: 0 4px 12px -2px rgba(0, 0, 0, 0.25);
}

.stat-card-icon {
    width: 40px;
    height: 40px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.stat-card-value {
    font-size: 1.5rem;
    font-weight: 700;
    line-height: 1.2;
}

.stat-card-label {
    display: inline-block;
    font-size: 0.6875rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.04em;
    color: var(--color-text-muted);
    background: var(--color-surface-alt);
    padding: 0.125rem 0.5rem;
    border-radius: 4px;
    line-height: 1.5;
    margin-top: 0.125rem;
}

.stat-card-sub {
    font-size: 0.6875rem;
    color: var(--color-text-muted);
    margin-top: 0.125rem;
}
